<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Meta tags anti-cache para forçar atualização -->
  <meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate, proxy-revalidate, max-age=0" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />

  <title>Luminnus - Automação Inteligente que Simplifica o Seu Negócio</title>
  <meta name="description"
    content="A Luminnus cria soluções digitais que otimizam tarefas, economizam tempo e impulsionam resultados com automação e inteligência artificial." />
  <meta name="author" content="Luminnus" />
  <link rel="icon" type="image/png" href="/favicon.png" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&family=Inter:wght@300;400;500;600;700;800&display=swap"
    rel="stylesheet" />

  <meta property="og:title" content="Luminnus - Automação Inteligente" />
  <meta property="og:description"
    content="A Luminnus cria soluções digitais que otimizam tarefas, economizam tempo e impulsionam resultados." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="/favicon.png" />

  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@Luminnus" />
  <meta name="twitter:image" content="/favicon.png" />

  <!-- OAuth Callback Redirect Script -->
  <!-- Detecta se o Google redirecionou para a raiz em vez de /oauth-callback -->
  <script>
    (function () {
      var params = new URLSearchParams(window.location.search);
      var code = params.get('code');
      var error = params.get('error');
      var isAtRoot = window.location.pathname === '/' || window.location.pathname === '/index.html';

      if ((code || error) && isAtRoot) {
        console.log('[OAuth Redirect] Detectado callback na raiz, redirecionando...');
        window.location.href = window.location.origin + '/oauth-callback' + window.location.search;
      }
    })();
  </script>
</head>

<body>
  <div id="root"></div>
  <script type="module" src="/src/main.tsx"></script>
</body>
<!-- Luminnus Site → App Bubble Integration -->
<script>
  const baseURL = "https://luminnus-lia-saas.bubbleapps.io"; // Trocar pelo domínio real do Bubble

  const links = {
    login: `${baseURL}/login`,
    signup: `${baseURL}/signup`,
    planos: `${baseURL}/servicos`,
    faleComLia: `${baseURL}/mensagens`,
    painel: `${baseURL}/painel`
  };

  document.addEventListener("DOMContentLoaded", () => {
    document.querySelectorAll("[data-luminnus]").forEach(btn => {
      const type = btn.getAttribute("data-luminnus");
      if (links[type]) btn.addEventListener("click", () => window.open(links[type], "_blank"));
    });
  });
</script>

<button data-luminnus="login">Login</button>
<button data-luminnus="signup">Criar Conta</button>
<button data-luminnus="planos">Planos</button>
<button data-luminnus="faleComLia">Fale com a Lia</button>
<button data-luminnus="painel">Painel</button>

</html>